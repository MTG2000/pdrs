{"version":3,"sources":["Views/PatinetsPrescriptions/Partials/PatientIdInput.jsx","Views/PrescriptionsDispensing/Partials/PrescriptionCard.jsx","Views/PrescriptionsDispensing/Partials/PrescriptionsList.jsx","Views/PrescriptionsDispensing/index.jsx"],"names":["observer","store","useState","id","setId","className","style","maxWidth","label","type","value","onChange","e","target","onBlur","SetPatientId","onKeyUp","keyCode","blur","variant","color","showPatientNameInput","patientName","PrescriptionCard","prescription","newDate","date","format","Date","Prescription_Date","note","Note","medicinsToDispense","setMedicinsToDispense","selectAll","setSelectAll","Tooltip","title","slice","length","src","ClassificationIconUrl","alt","Checkbox","checked","medicins","forEach","m","Id","toggleAll","inputProps","map","i","key","v","Name","Button","onClick","medicinsIds","Object","keys","filter","Number","Dispense","split","loadingPrescriptions","LoadingPage","message","prescriptions","p","DispensePrescription","PrescriptionsDispensingStore","useContext","mainContext","PatientIdInput"],"mappings":"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","file":"static/js/13.3fa29181.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nconst PatientIdInput = ({ store }) => {\r\n  const [id, setId] = useState(\"\");\r\n\r\n  return (\r\n    <div className=\" mx-auto row flex-column\" style={{ maxWidth: 330 }}>\r\n      <TextField\r\n        id=\"patient-id\"\r\n        label=\"Patient Id\"\r\n        type=\"number\"\r\n        value={id}\r\n        onChange={e => setId(e.target.value)}\r\n        onBlur={() => store.SetPatientId(id)}\r\n        onKeyUp={e => e.keyCode === 13 && e.target.blur()} //if Enter was pressed\r\n        variant=\"outlined\"\r\n        color=\"primary\"\r\n        className=\"mb-3\"\r\n      />\r\n      {!store.showPatientNameInput && (\r\n        <h2 className=\"my-2\">{store.patientName}</h2>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(PatientIdInput);\r\n","import React, { useState } from \"react\";\r\nimport date from \"date-and-time\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n/*{\r\n            \"Id\": 1,\r\n            \"Doctor_Id\": 1,\r\n            \"Note\": \"The Patient sufferd from an intense injuery in his right arm\",\r\n            \"Prescription_Date\": \"2020-03-26 16:08:20\",\r\n            \"Classification_Name\": \"Heart\",\r\n            \"ClassificationIconUrl\": \"\\\\images\\\\classifications\\\\heart.svg\",\r\n            \"medicins\": [\r\n                {\r\n                    \"Name\": \"Sitamol\",\r\n                    \"IsBold\": \"0\",\r\n                    \"IsChronic\": \"0\",\r\n                    \"Pharmacy_Id\": null\r\n                },\r\n                {\r\n                    \"Name\": \"Panadol\",\r\n                    \"IsBold\": \"0\",\r\n                    \"IsChronic\": \"0\",\r\n                    \"Pharmacy_Id\": null\r\n                },\r\n                {\r\n                    \"Name\": \"Benzamien\",\r\n                    \"IsBold\": \"1\",\r\n                    \"IsChronic\": \"1\",\r\n                    \"Pharmacy_Id\": null\r\n                }\r\n            ]\r\n        }\r\n        */\r\nconst PrescriptionCard = ({ prescription, store }) => {\r\n  const newDate = date.format(\r\n    new Date(prescription.Prescription_Date),\r\n    \"DD MMM\"\r\n  );\r\n\r\n  const note = prescription.Note;\r\n  const allowedNoteLength = 60;\r\n  const [medicinsToDispense, setMedicinsToDispense] = useState({});\r\n  const [selectAll, setSelectAll] = useState(true);\r\n  const toggleMedicineDispens = (id, v) => {\r\n    setMedicinsToDispense({ ...medicinsToDispense, [id]: v });\r\n  };\r\n\r\n  const toggleAll = () => {\r\n    let medicins = {};\r\n    prescription.medicins.forEach(m => {\r\n      medicins = { ...medicins, [m.Id]: selectAll };\r\n    });\r\n    setMedicinsToDispense(medicins);\r\n    setSelectAll(!selectAll);\r\n  };\r\n\r\n  const handleDispense = () => {\r\n    const medicinsIds = Object.keys(medicinsToDispense)\r\n      .filter(m => medicinsToDispense[m])\r\n      .map(Number);\r\n\r\n    store.Dispense(prescription.Id, medicinsIds);\r\n  };\r\n\r\n  return (\r\n    <div className=\"prescription-card mx-auto py-5\">\r\n      <Tooltip title={<h6>{note}</h6>}>\r\n        <div className=\"note  bg-primary px-3 py-3\">\r\n          <p className=\" mb-0 \">\r\n            {note.slice(0, allowedNoteLength)}\r\n            {note.length > allowedNoteLength && \"....\"}\r\n          </p>\r\n        </div>\r\n      </Tooltip>\r\n      <div className=\"icon \">\r\n        <img src={prescription.ClassificationIconUrl} alt=\"classification\" />\r\n      </div>\r\n\r\n      <div className=\"medicins px-4 py-5 py-md-0  row justify-content-begin\">\r\n        <div className=\"col-10 mx-2\">\r\n          <Checkbox\r\n            color=\"primary\"\r\n            checked={!selectAll}\r\n            onChange={e => toggleAll(e.target.checked)}\r\n            inputProps={{ \"aria-label\": \"primary checkbox\" }}\r\n          />\r\n          <p className=\"d-inline-block ml-2 \"></p>{\" \"}\r\n        </div>\r\n\r\n        {prescription.medicins.map((m, i) => (\r\n          <div key={i} className=\"col-10 mx-2\">\r\n            <Checkbox\r\n              color=\"primary\"\r\n              checked={medicinsToDispense[m.Id] === true}\r\n              onChange={e => toggleMedicineDispens(m.Id, e.target.checked)}\r\n              inputProps={{ \"aria-label\": \"primary checkbox\" }}\r\n            />\r\n            <p className=\"d-inline-block ml-2 \">{m.Name}</p>\r\n          </div>\r\n        ))}\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className=\"mx-4\"\r\n          onClick={handleDispense}\r\n        >\r\n          Dispense\r\n        </Button>\r\n      </div>\r\n      <div className=\"date bg-primary\">\r\n        <span className=\"h4 text-center\">{newDate.split(\" \")[0]}</span>\r\n        <span>{newDate.split(\" \")[1]}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrescriptionCard;\r\n","import React from \"react\";\r\nimport PrescriptionCard from \"./PrescriptionCard\";\r\nimport { observer } from \"mobx-react\";\r\nimport LoadingPage from \"../../Shared/LoadingPage\";\r\n\r\nconst PrescriptionsList = ({ store }) => {\r\n  if (store.loadingPrescriptions)\r\n    return <LoadingPage message=\"Getting Prescriptions To Dispense\" />;\r\n\r\n  return (\r\n    <div>\r\n      {store.prescriptions.map((p, i) => (\r\n        <PrescriptionCard key={i} prescription={p} store={store} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default observer(PrescriptionsList);\r\n","import React, { useContext, useState } from \"react\";\r\nimport PatientIdInput from \"../PatinetsPrescriptions/Partials/PatientIdInput\";\r\nimport { mainContext } from \"../../stores/Context\";\r\nimport PrescriptionsList from \"./Partials/PrescriptionsList\";\r\n\r\nconst DispensePrescription = () => {\r\n  const { PrescriptionsDispensingStore } = useContext(mainContext);\r\n  const [store] = useState(new PrescriptionsDispensingStore());\r\n\r\n  return (\r\n    <div className=\"py-5\">\r\n      <div style={{ maxWidth: 230 }} className=\"mx-auto\">\r\n        <PatientIdInput store={store} />\r\n      </div>\r\n      <PrescriptionsList store={store} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DispensePrescription;\r\n"],"sourceRoot":""}