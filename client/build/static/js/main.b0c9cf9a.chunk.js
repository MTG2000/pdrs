(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[2],{116:function(e){e.exports=JSON.parse('{"welcome to pdr":"Welcome to PDR System","login to start":"login with your account and start using the system now","get an account":"Get An Account to Start Using P.D.R System"}')},117:function(e){e.exports=JSON.parse('{"welcome to pdr":"\u0627\u0647\u0644\u0627 \u0648 \u0633\u0647\u0644\u0627 \u0628\u0643 \u0641\u064a \u0646\u0638\u0627\u0645 PDR","login to start":"\u0642\u0645 \u0628\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0644\u0644\u0628\u062f\u0621 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0646\u0638\u0627\u0645","get an account":"\u0627\u062d\u0635\u0644 \u0639\u0644\u0649 \u062d\u0633\u0627\u0628 \u0644\u0644\u062a\u0645\u0643\u0646 \u0645\u0646 \u0627\u0644\u0645\u0634\u0627\u0631\u0643\u0629 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0646\u0638\u0627\u0645"}')},118:function(e){e.exports=JSON.parse('{"your name":"Your Name","your specialty":"Your Specialty","your phone":"Your Phone","your email":"Your Email","send request":"Send Request","login":"Login","logout":"Logout","about":"About","username":"Username","password":"Password","who are you":"Who Are You Again ??","new prescription":"New Prescription","select condition":"Patient Condition","patient prescriptions":"Patient Prescriptions","dispense prescription":"Dispense Prescription","technical support":"Technical Support","admin dashboard":"Admin Dashboard","patient id":"Patient Id","patient name":"Patient Name","note":"Note","type med name":"Type A Medicine Name","med name":"Medicine Name","bold":"Bold","chronic":"Chronic","submit prescription":"Submit Prescription","we are here to help":"We are here to help","how we can help":"Need A new medicine added, new classification, improvment proposal, found a bug in the system, or even just wanting to chat we will read your message and do our best to help","message category":"Message Category","your message":"Your Message","send message":"Send Message"}')},119:function(e){e.exports=JSON.parse('{"your name":"\u0627\u0633\u0645\u0643","your specialty":"\u062a\u062e\u0635\u0635\u0643","your phone":"\u0647\u0627\u062a\u0641\u0643","your email":"\u0628\u0631\u064a\u062f\u0643 \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a","send request":"\u0627\u0631\u0633\u0627\u0644 \u0627\u0644\u0637\u0644\u0628","login":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644","logout":"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c","about":"\u062d\u0648\u0644 \u0627\u0644\u0646\u0638\u0627\u0645","username":"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645","password":"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","who are you":"\u0645\u0646 \u062a\u0643\u0648\u0646 \u0645\u062c\u062f\u062f\u0627 \u061f\u061f","new prescription":"\u0648\u0635\u0641\u0629 \u062c\u062f\u064a\u062f\u0629","select condition":"\u0627\u0644\u062d\u0627\u0644\u0629 \u0627\u0644\u0635\u062d\u064a\u0629","patient prescriptions":"\u0648\u0635\u0641\u0627\u062a \u0627\u0644\u0645\u0631\u064a\u0636","dispense prescription":"\u0635\u0631\u0641 \u0648\u0635\u0641\u0629","technical support":"\u0627\u0644\u062f\u0639\u0645 \u0627\u0644\u062a\u0642\u0646\u064a","admin dashboard":"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645","patient id":"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0648\u0637\u0646\u064a \u0644\u0644\u0645\u0631\u064a\u0636","patient name":"\u0627\u0633\u0645 \u0627\u0644\u0645\u0631\u064a\u0636","note":"\u0645\u0644\u0627\u062d\u0638\u0629","type med name":"\u0627\u0643\u062a\u0628 \u0627\u0633\u0645 \u0627\u0644\u062f\u0648\u0627\u0621","med name":"\u0627\u0633\u0645 \u0627\u0644\u062f\u0648\u0627\u0621","bold":"\u0639\u0631\u064a\u0636","chronic":"\u0645\u0632\u0645\u0646","submit prescription":"\u062d\u0641\u0638 \u0627\u0644\u0648\u0635\u0641\u0629","we are here to help":"\u0646\u062d\u0646 \u0647\u0646\u0627 \u0644\u0645\u0633\u0627\u0639\u062f\u062a\u0643","how we can help":"\u062a\u062d\u062a\u0627\u062c \u062f\u0648\u0627\u0621 \u062c\u062f\u064a\u062f,\u062a\u0635\u0646\u064a\u0641 \u062c\u062f\u064a\u062f , \u0627\u0642\u062a\u0631\u0627\u062d \u0644\u062a\u062d\u0633\u064a\u0646 \u0627\u0644\u0646\u0638\u0627\u0645, \u0648\u062c\u062f\u062a \u0645\u0634\u0643\u0644\u0629 \u0641\u064a \u0627\u0644\u0646\u0638\u0627\u0645, \u0627\u0648 \u0631\u0628\u0645\u0627 \u062a\u0648\u062f \u0627\u0644\u062f\u0631\u062f\u0634\u0629 , \u0633\u0646\u0642\u0631\u0623 \u0631\u0633\u0627\u0644\u062a\u0643 \u0648 \u0646\u0642\u0648\u0645 \u0628\u0627\u0641\u0636\u0644 \u0645\u0627 \u0644\u062f\u064a\u0646\u0627 \u0644\u0645\u0633\u0627\u0639\u062f\u0629 ","message category":"\u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0631\u0633\u0627\u0644\u0629","your message":"\u0631\u0633\u0627\u0644\u062a\u0643","send message":"\u0627\u0631\u0633\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629"}')},136:function(e,t,a){e.exports=a(193)},190:function(e,t,a){},191:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(26),s=a.n(r),o=a(74),c=a(4),l=a.n(c),u=a(5),p=a(212),m=a(213),h=a(123),d=a(17),f=a(215),g=a(112),v=a.n(g),b=function(e){var t=e.store,a=t.username,n=t.role,r=Object(f.a)("common").t;return i.a.createElement(p.a,{collapseOnSelect:!0,expand:"lg",bg:"primary",variant:"dark",style:{zIndex:100}},i.a.createElement(p.a.Brand,{href:"/"},i.a.createElement("h4",{className:"no-gutters mb-0"},"P.D.R.S")),i.a.createElement(p.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),i.a.createElement(p.a.Collapse,{id:"responsive-navbar-nav"},i.a.createElement(m.a,{className:"ml-auto text-white"},"Doctor"===n&&i.a.createElement(d.b,{className:"nav-link text-white",to:"/new-prescription"},r("new prescription")),"Pharmacy"===n&&i.a.createElement(d.b,{className:"nav-link text-white",to:"/dispense-prescription"},r("dispense prescription")),"Doctor"===n&&i.a.createElement(d.b,{className:"nav-link text-white",to:"/patients-prescriptions"},r("patient prescriptions")),"Admin"===n&&i.a.createElement(h.a,{className:"nav-link text-white",href:"/admin"},r("admin dashboard")),a&&"Admin"!==n&&i.a.createElement(d.b,{className:"nav-link text-white",to:"/contact"},r("technical support")),!a&&i.a.createElement(d.b,{className:"nav-link text-white",to:"/about"},r("about")),a?i.a.createElement(d.b,{className:"nav-link text-white",to:"#",onClick:Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.Logout();case 2:case"end":return e.stop()}}),e)})))},r("logout")):i.a.createElement(d.b,{className:"nav-link text-white",to:"/login"},r("login")),i.a.createElement("button",{href:"#",className:"nav-link text-white border-0",onClick:function(){"ar"===localStorage.getItem("lang")?localStorage.setItem("lang","en"):localStorage.setItem("lang","ar"),window.location.reload()},style:{backgroundColor:"transparent"}},i.a.createElement(v.a,null)))))},y=function(){return i.a.createElement("footer",null)},k=a(8),N=a(209),w=a(48),P=a(28),x=a(124),S=function(e){var t=e.component,a=e.isAuth,n=void 0!==a&&a,r=Object(x.a)(e,["component","isAuth"]);return console.log("Private"),i.a.createElement(P.b,Object.assign({},r,{render:function(e){return n?i.a.createElement(t,e):i.a.createElement(P.a,{to:"/login"})}}))},j=a(73),I=a(76),O=i.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(6),a.e(10)]).then(a.bind(null,315))})),E=i.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(5),a.e(13)]).then(a.bind(null,312))})),C=i.a.lazy((function(){return Promise.all([a.e(0),a.e(9)]).then(a.bind(null,308))})),M=i.a.lazy((function(){return Promise.all([a.e(0),a.e(7),a.e(12)]).then(a.bind(null,316))})),A=i.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(11),a.e(14)]).then(a.bind(null,317))})),F=i.a.lazy((function(){return Promise.all([a.e(0),a.e(8),a.e(16)]).then(a.bind(null,309))})),T=Object(j.a)((function(e){var t=e.store,a=t.username,n=t.role;return i.a.createElement(i.a.Suspense,{fallback:i.a.createElement(I.a,{fullPage:!0})},i.a.createElement(P.d,null,i.a.createElement(P.b,{path:"/login",component:C}),i.a.createElement(S,{path:"/contact",component:F,isAuth:a}),i.a.createElement(S,{path:"/new-prescription",component:E,isAuth:"Doctor"===n}),i.a.createElement(S,{path:"/dispense-prescription",component:A,isAuth:"Pharmacy"===n}),i.a.createElement(S,{path:"/patients-prescriptions",component:O,isAuth:a}),i.a.createElement(P.b,{path:"/",component:M})))}));var D=function(){var e=Object(n.useContext)(w.b).AppStore,t=Object(n.useState)(e),a=Object(o.a)(t,1)[0];return i.a.createElement("div",{className:"App"},i.a.createElement(k.NotificationContainer,null),i.a.createElement(b,{store:a}),i.a.createElement(N.a,null,i.a.createElement(T,{store:a})),i.a.createElement(y,null))},L=a(114),B=a(67);L.a.add(B.b,B.a);var R=a(115),Y=a.n(R);a(189);Y.a.init({offset:100,duration:700,easing:"ease-in-sine",delay:100});var q=a(6),z=a.n(q);z.a.interceptors.response.use((function(e){return e}),function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Token Expired"!==t.response.data){e.next=16;break}return e.prev=1,e.next=4,z.a.post("/api/users/refresh-token",{username:localStorage.getItem("username"),refreshToken:localStorage.getItem("refreshToken")});case 4:return a=e.sent,localStorage.setItem("refreshToken",a.data.data.refreshToken),e.next=8,z()(t.config);case 8:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 12:e.prev=12,e.t0=e.catch(1),localStorage.clear(),window.location="/login";case 16:return e.abrupt("return",Promise.reject(t));case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}());a(190),a(191);var W=a(68),J=a(35),U=a(116),G=a(117),H=a(118),K=a(119),_=localStorage.getItem("lang")||"en";"ar"===_&&(a.e(15).then(a.t.bind(null,310,7)).then().catch(),document.querySelector("body").setAttribute("dir","rtl"));var V={en:{home:U,common:H},ar:{home:G,common:K}};W.a.use(J.f).init({resources:V,lng:_,keySeparator:!1,interpolation:{escapeValue:!1}});W.a;var Q=a(210),X=a(121),Z="rtl";"ar"===localStorage.getItem("lang")&&(Z="rtl");var $=Object(X.a)({direction:Z,typography:{fontFamily:["Titillium Web",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},palette:{primary:{main:"#007ebe"},secondary:{main:"#8bb6cb"}},overrides:{MuiOutlinedInput:{notchedOutline:{borderColor:"#007ebe",borderWidth:1}},MuiInputLabel:{root:{color:"#007ebe"}}}}),ee=a(21),te=a(22),ae=a(101),ne=a(102),ie=function(e){Object(ne.a)(a,e);var t=Object(ae.a)(a);function a(){return Object(ee.a)(this,a),t.apply(this,arguments)}return Object(te.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),a}(n.Component),re=Object(P.g)(ie),se=(a(192),a(100)),oe=a(122),ce=a(13),le=a(120),ue=a.n(le),pe=a(211),me=a(216),he=Object(ce.b)({plugins:[].concat(Object(oe.a)(Object(pe.a)().plugins),[ue()()])});function de(e){return"ar"!==localStorage.getItem("lang")?e.children:i.a.createElement(me.b,{jss:he},e.children)}var fe=function(e){return i.a.createElement(d.a,null,i.a.createElement(w.a,null,i.a.createElement(Q.a,{theme:$},i.a.createElement(de,null,i.a.createElement(re,null,i.a.createElement(se.b,{reCaptchaKey:"6Lc05esUAAAAALzJgbFxf6KG-jY4EMjdY_Ifsxqt"},e.children))))))};s.a.render(i.a.createElement(fe,null,i.a.createElement(D,null)),document.getElementById("root"))},48:function(e,t,a){"use strict";a.d(t,"b",(function(){return P})),a.d(t,"a",(function(){return x}));var n=a(0),i=a.n(n),r=a(78),s=a(4),o=a.n(s),c=a(5),l=a(21),u=a(22),p=a(2),m=a(8),h=a(6),d=a.n(h),f=function(){function e(){Object(l.a)(this,e),this.patientId="",this.patientName="",this.showPatientNameInput=!1,this.note="",this.medicins=[],this.classifications=[],this.conditions=[],this.selectedClassification=-1,this.selectedCondition=-1,this.submitingPrescription=!1,this.loading=!0,this.redirect=!1}return Object(u.a)(e,[{key:"SetPatientId",value:function(e){this.patientId=e,this.FetchPatientName()}},{key:"SetPatientName",value:function(e){this.patientName=e}},{key:"FetchPatientName",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(this.patientId.length<6)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d.a.get("/api/users/patient?id=".concat(this.patientId));case 5:t=e.sent,a=t.data.data,Object(p.p)((function(){a.Name?(n.patientName=a.Name,n.showPatientNameInput=!1):n.showPatientNameInput=!0})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),this.showPatientNameInput=!0,this.patientName="";case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"FetchClassifications",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/medicins/classifications");case 3:t=e.sent,a=t.data.data,Object(p.p)((function(){n.classifications=a,n.loading=!1})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"FetchConditions",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/medicins/conditions",{params:{classification:this.selectedClassification}});case 3:t=e.sent,a=t.data.data,Object(p.p)((function(){n.conditions=a,n.loading=!1})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"SelectClassification",value:function(e){this.selectedClassification=e,this.FetchConditions()}},{key:"SelectCondition",value:function(e){this.selectedCondition=e}},{key:"AddMedicine",value:function(e){this.medicins.push(e)}},{key:"RemoveMedicin",value:function(e){this.medicins=this.medicins.filter((function(t,a){return a!==e}))}},{key:"ToggleChronic",value:function(e){this.medicins[e].isChronic=!this.medicins[e].isChronic}},{key:"ToggleBold",value:function(e){this.medicins[e].isBold=!this.medicins[e].isBold}},{key:"SetNote",value:function(e){this.note=e}},{key:"SubmitPrescription",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this.submitingPrescription){e.next=3;break}return e.abrupt("return");case 3:return this.submitingPrescription=!0,t={patientId:this.patientId,patientName:this.patientName,note:this.note,medicins:Object(p.r)(this.medicins),classificationId:this.selectedClassification,conditionId:this.selectedCondition.Id},e.next=7,d.a.post("/api/patients/new-prescription",Object(r.a)({},t));case 7:m.NotificationManager.success("Prescription Created Successfully"),this.submitingPrescription=!1,setTimeout((function(){Object(p.p)((function(){a.redirect=!0}))}),3e3),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),m.NotificationManager.error(e.t0.response.data.message,e.t0.response.data.title),this.submitingPrescription=!1;case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()}]),e}();Object(p.j)(f,{redirect:p.o,loading:p.o,selectedClassification:p.o,selectedCondition:p.o,patientId:p.o,showPatientNameInput:p.o,submitingPrescription:p.o,patientName:p.o,note:p.o,medicins:p.o,classifications:p.o,conditions:p.o,AddMedicine:p.f,SetPatientId:p.f,FetchClassifications:p.f,RemoveMedicin:p.f,ToggleBold:p.f,ToggleChronic:p.f,SelectClassification:p.f,SetNote:p.f,SubmitPrescription:p.f,FetchPatientName:p.f,SetPatientName:p.f});var g=f,v=function(){function e(){Object(l.a)(this,e),this.patientId="",this.patientName="",this.classifications=[],this.allPrescriptions=[],this.prescriptions=[],this.chronicMedicins=[],this.selectedClassification=0,this.loading=!0,this.loadingPrescriptions=!1}return Object(u.a)(e,[{key:"SetPatientId",value:function(e){this.patientId=e,this.FetchPatientName(),this.FetchPrescriptions()}},{key:"FetchPatientName",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/users/patient?id=".concat(this.patientId));case 3:t=e.sent,a=t.data.data,Object(p.p)((function(){n.patientName=a.Name})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.patientName="";case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"FilterPrescriptions",value:function(){var e=this;this.selectedClassification?this.prescriptions=this.allPrescriptions.filter((function(t){return t.Classification_Id===e.selectedClassification})):this.prescriptions=this.allPrescriptions}},{key:"FetchClassifications",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/medicins/classifications");case 3:t=e.sent,a=t.data.data,Object(p.p)((function(){n.classifications=a,n.loading=!1})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"FetchPrescriptions",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loadingPrescriptions=!0,t=(t="/api/patients/prescriptions?").concat("patientId=".concat(this.patientId)),e.next=6,d.a.get(t);case 6:a=e.sent,n=a.data.data,Object(p.p)((function(){i.allPrescriptions=n.prescriptions,i.chronicMedicins=n.chronicMedicins,i.loadingPrescriptions=!1})),this.FilterPrescriptions(),e.next=19;break;case 12:if(e.prev=12,e.t0=e.catch(0),"AbortError"!==e.t0.name){e.next=16;break}return e.abrupt("return");case 16:console.log(e.t0),m.NotificationManager.error(e.t0.response.data.message,e.t0.response.data.title),this.loadingPrescriptions=!1;case 19:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"SelectClassification",value:function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===this.selectedClassification?this.selectedClassification=0:this.selectedClassification=t,!this.patientId||0!==this.allPrescriptions.length){e.next=6;break}return e.next=4,this.FetchPrescriptions();case 4:e.next=7;break;case 6:this.FilterPrescriptions();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Object(p.j)(v,{loading:p.o,loadingPrescriptions:p.o,selectedClassification:p.o,prescriptions:p.o,chronicMedicins:p.o,patientId:p.o,patientName:p.o,classifications:p.o,SetPatientId:p.f,FetchClassifications:p.f,SelectClassification:p.f,FetchPrescriptions:p.f,FetchPatientName:p.f});var b=v,y=function(){function e(){Object(l.a)(this,e),this.patientId="",this.patientName="",this.prescriptions=[],this.loading=!0,this.loadingPrescriptions=!1}return Object(u.a)(e,[{key:"SetPatientId",value:function(e){this.patientId=e,this.FetchPatientName(),this.FetchPrescriptions()}},{key:"FetchPatientName",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/users/patients?id=".concat(this.patientId));case 3:t=e.sent,a=t.data.data,Object(p.p)((function(){n.patientName=a.Name})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.patientName="";case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Dispense",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:[],e.prev=1,e.next=4,d.a.post("/api/patients/dispense",{prescriptionId:t,medicins:a});case 4:m.NotificationManager.success("Prescription Dispensed Successfully"),this.FetchPrescriptions(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),m.NotificationManager.error(e.t0.response.data.message,e.t0.response.data.title);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"FetchPrescriptions",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loadingPrescriptions=!0,t=(t="/api/patients/prescriptions-to-dispense?").concat("patientId=".concat(this.patientId)),e.next=6,d.a.get(t);case 6:a=e.sent,n=a.data.data,Object(p.p)((function(){i.prescriptions=n.prescriptions,i.loadingPrescriptions=!1})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),m.NotificationManager.error(e.t0.response.data.message,e.t0.response.data.title),this.loadingPrescriptions=!1;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"SelectClassification",value:function(e){this.selectedClassification=e,this.patientId&&this.FetchPrescriptions()}}]),e}();Object(p.j)(y,{loading:p.o,loadingPrescriptions:p.o,prescriptions:p.o,patientId:p.o,patientName:p.o,SetPatientId:p.f,FetchPrescriptions:p.f,FetchPatientName:p.f});var k=y,N=function(){function e(){Object(l.a)(this,e),this.username="",this.role="",this.messagesCategories=[],this.username=localStorage.getItem("username"),this.role=localStorage.getItem("user-role"),this.doctorName=localStorage.getItem("doctorName")||void 0,this.pharmacyName=localStorage.getItem("pharmacyName")||void 0}return Object(u.a)(e,[{key:"clearStorage",value:function(){localStorage.removeItem("username"),localStorage.removeItem("user-role"),localStorage.removeItem("doctorName"),localStorage.removeItem("pharmacyName"),localStorage.removeItem("refreshToken")}},{key:"Login",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){var n,i,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/api/users/login",{username:t,password:a});case 3:n=e.sent,i=n.data.data,Object(p.p)((function(){var e="/";r.role=i.role,r.clearStorage(),localStorage.setItem("refreshToken",i.refreshToken),localStorage.setItem("username",i.username),localStorage.setItem("user-role",r.role),i.DoctorName?(r.doctorName=i.DoctorName,localStorage.setItem("doctorName",r.doctorName),m.NotificationManager.success("Welcome Back Doctor "+r.doctorName)):i.PharmacyName?(r.pharmacyName=i.PharmacyName,localStorage.setItem("pharmacyName",r.pharmacyName),m.NotificationManager.success("Welcome Back ")):i.IsAdmin&&(e="/admin",m.NotificationManager.success("Welcome Back Admin ")),setTimeout((function(){Object(p.p)((function(){r.username=i.username,window.location=e}))}),3e3)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m.NotificationManager.error(e.t0.response.data.message,e.t0.response.data.title);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"SendRequest",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a,n,i,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/api/users/request-account",{name:t,type:a,phone:n,email:i,recaptcha:r});case 3:m.NotificationManager.success(" Your Request was sent successfuly"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m.NotificationManager.error(e.t0.response.data.message,e.t0.response.data.title);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a,n,i,r){return e.apply(this,arguments)}}()},{key:"Logout",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/users/logout");case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return e.prev=7,this.clearStorage(),window.location="/login",e.finish(7);case 11:case"end":return e.stop()}}),e,this,[[0,5,7,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"FetchMessagesCategories",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/users/messages-categories");case 3:t=e.sent,a=t.data.data,Object(p.p)((function(){n.messagesCategories=a})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"SendMessage",value:function(){var e=Object(c.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/api/users/send-message",{category:t,content:a});case 3:m.NotificationManager.success(" Your Message was sent successfuly"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m.NotificationManager.error(e.t0.response.data.message,e.t0.response.data.title);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();Object(p.j)(N,{username:p.o,role:p.o,messagesCategories:p.o,doctorName:p.o,pharmacyName:p.o,Login:p.f,Logout:p.f,FetchMessagesCategories:p.f});var w=new N,P=i.a.createContext(),x=function(e){return i.a.createElement(P.Provider,{value:{NewPrescriptionStore:g,PatientPrescriptionsStore:b,AppStore:w,PrescriptionsDispensingStore:k}},e.children)}},76:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(113),s=a.n(r),o=a(130);t.a=function(e){var t=Object(o.a)();return i.a.createElement("div",{className:"row justify-content-center align-content-center py-5",style:{minHeight:e.fullPage?"88vh":void 0}},i.a.createElement(s.a,Object.assign({height:55,width:8,margin:3,color:t.palette.primary.main,loading:!0},e)),i.a.createElement("h2",{className:"text-primary col-12 text-center py-2"},e.message||"Loading"))}}},[[136,3,4]]]);
//# sourceMappingURL=main.b0c9cf9a.chunk.js.map